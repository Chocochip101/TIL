이 문서는 RedBase 시스템의 Record Management (RM) 컴포넌트에 대한 설명입니다. RedBase는 데이터베이스 관리 시스템(DBMS)을 구현하기 위한 프로젝트로서, RM 컴포넌트는 데이터베이스 파일의 관리와 레코드 조작 기능을 제공합니다. 아래는 주요 내용을 한글로 정리한 것입니다.

**소개**
- RM 컴포넌트는 RedBase 시스템의 일부로, 무순서의 레코드 파일을 관리하는 역할을 합니다.
- 모든 클래스 이름, 반환 코드, 상수 등은 "RM" 접두사를 가져야 합니다.
- RM 컴포넌트는 PF 컴포넌트의 클라이언트 역할을 하며, RM 메서드는 PF 컴포넌트의 메서드를 호출합니다.

**Header 파일**
- RM 컴포넌트의 인터페이스는 "rm.h" 외부 헤더 파일에 정의되어 있어야 합니다.
- "rm_rid.h" 헤더 파일은 RID(Redcord Identifier) 클래스를 정의하며 RM 클래스 외의 다른 컴포넌트에서도 사용됩니다.
- "rm_internal.h"와 "redbase.h"는 내부 및 전역 헤더 파일로 사용됩니다.

**RM 인터페이스**
- RM 컴포넌트의 인터페이스에는 RM_Manager, RM_FileHandle, RM_FileScan, RM_Record, RID 클래스가 포함됩니다.
- 각 클래스의 생성자와 소멸자는 설명되지 않았으며, 공개 메서드만 설명됩니다.
- RM 컴포넌트 메서드는 일반적으로 정상적으로 완료되면 0을 반환하고, 그렇지 않으면 0이 아닌 반환 코드를 반환합니다.

**RM_Manager 클래스**
- 파일의 생성, 삭제, 열기, 닫기를 처리합니다.
- 생성자와 소멸자는 초기화 및 정리를 담당합니다.
- CreateFile: 새 파일 생성
- DestroyFile: 파일 삭제
- OpenFile: 파일 열기
- CloseFile: 파일 닫기

**RM_FileHandle 클래스**
- 열린 RM 컴포넌트 파일의 레코드를 조작합니다.
- 생성자와 소멸자는 설명되지 않았으며, 공개 메서드만 설명됩니다.
- GetRec: 레코드 가져오기
- InsertRec: 새로운 레코드 삽입
- DeleteRec: 레코드 삭제
- UpdateRec: 레코드 업데이트
- ForcePages: 더티 페이지를 디스크에 쓰기

**RM_FileScan 클래스**
- 파일 스캔을 제공하며, 지정된 조건에 기반하여 스캔을 수행합니다.
- 생성자와 소멸자는 설명되지 않았으며, 공개 메서드만 설명됩니다.
- OpenScan: 스캔 초기화
- GetNextRec: 다음 일치하는 레코드 가져오기
- CloseScan: 스캔 종료

**RM_Record 클래스**
- 레코드 객체를 정의하며, 레코드의 데이터에 액세스할 수 있게 합니다.
- GetData: 데이터에 접근
- GetRid: 레코드 식별자 가져오기

**RID 클래스**
- 레코드 식별자 객체를 정의하며, 페이지 번호와 슬롯 번호에 기반하여 레코드를 식별합니다.
- GetPageNum: 페이지 번호 가져오기
- GetSlotNum: 슬롯 번호 가져오기

**RM_PrintError 루틴**
- RM 컴포넌트 메서드의 반환 코드에 연결된 메시지를 stderr 출력 스트림에 출력합니다.

**반환 코드 및 오류 처리**
- 반환 코드와 오류 처리는 PF 컴포넌트와 비슷하게 구현되어야 합니다.
- 양수 반환 코드는 비정상적인 예외 조건 또는 시스템이 정상적으로 복구하거나 정상적으로 종료할 수 있는 오류를 나타내며, 음수 반환 코드는 시스템이 복구할 수 없거나 데이터베

이스가 손상된 후에 발생하는 오류를 나타냅니다.

**구현 제안사항**
- 파일 및 페이지 레이아웃: 각 파일은 파일 헤더 페이지로 시작하여 파일 전체에 대한 정보를 저장합니다. 그 뒤에 데이터 페이지가 이어집니다.
- 파일 헤더 관리: 파일을 열 때 PF_Manager::OpenFile를 호출하고 파일 헤더 정보를 파일 핸들의 개인 변수로 복사해야 합니다.
- 레코드 식별자: 각 파일 내의 레코드를 고유하게 식별하기 위한 레코드 식별자를 사용해야 합니다.
- 빈 공간 추적: 레코드를 삽입할 때 페이지를 선형 검색하는 것을 피해야 합니다. 페이지에 빈 슬롯을 가지고 있는 페이지들을 연결 리스트로 유지하고 삽입할 때 첫 번째 페이지에 추가하는 방법을 고려할 수 있습니다.
- 파일 스캔: 파일 스캔은 레코드를 반복적으로 반환하는 데 사용됩니다. 레코드를 반환할 때 Select, Delete 및 Update 문을 처리하기 위해 사용됩니다. Insert 문은 한 번에 하나의 튜플을 추가하므로 파일 스캔을 통해 레코드를 삽입하지 않습니다.

**문서화**
- 프로그램 디자인, 테스트 및 알려진 버그에 대한 설명을 포함하는 "rm_DOC" 텍스트 파일을 생성해야 합니다.
- 코드에 주석을 포함해야 합니다.

**평가**
- 평가는 기능, 문서화, 디자인 선택, 모듈화/정확성 등으로 이루어집니다.

**테스팅 및 제출**
- RM 컴포넌트에 대한 초기 테스트가 제공됩니다. 그러나 추가 테스트를 직접 작성하여 코드를 철저히 테스트하는 것이 좋습니다.
- 제출은 전자적으로 이루어지며, "rm_DOC" 문서 파일을 함께 제출해야 합니다.

**RedBase I/O 효율성 콘테스트**
- I/O 효율성을 고려하여 코드를 작성하고 최적화해야 합니다. I/O 효율성은 프로젝트의 모든 부분에서 중요한 요소입니다.

이로써 RedBase RM 컴포넌트에 대한 설명과 구현 지침을 정리하였습니다. 이러한 가이드라인을 기반으로 RM 컴포넌트를 구현하고 효율적인 데이터베이스 관리를 달성하는 데 도움이 되기를 바랍니다.